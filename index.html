<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MathSemantifier</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/MathSemantifier.css" rel="stylesheet">
</head>

<body>
    <div id="MathSemantifier" class="row">
        <div class="col-xs-1"></div>
        <div class="col-xs-6">
            <h3>Math Semantifier</h3>
            <div id="textarea">
                <textarea id="editor" rows="10" cols="60">
                    <mi>ùëñ</mi>
                    <mo>+</mo>
                    <mi>3</mi>
                    <mo>mod</mo>
                    <mi>5</mi>
                </textarea>
            </div>
            <a id="semantify" class="btn btn-lg btn-success" href="#" role="button">Semantify MathML</a>
            <a id="semantic-tree" class="btn btn-lg btn-success" href="#" role="button">Show Semantic Tree</a>
            <div id="results" class="">
            </div>
        </div>
    </div>
    <script src="js/jquery.min.js" >
</script>
    <script src="js/bootstrap.min.js" >
</script>
    <script src="js/MathSemantifier.js" >
</script>

<script>
var parsingEngineURL = "http://localhost:3000";
var mmtURL = "http://localhost:8081";
var data = {};
$(document).ready(function() {
    console.log("Document ready\n");
    
   
     $("#semantify").click(function() {
        var input = $("#editor").val();
        console.log("Input length is " + input.length);
        var encodedInput = encodeURIComponent(input);
        $.post(parsingEngineURL + "/detect_notations", 
        encodedInput, 
        processNotPositions);
    });
    
    $("#semantic-tree").click(function() {
        var input = $("#editor").val();
        var encodedInput = encodeURIComponent(input);
        $.ajax({
            url: mmtURL + "/:marpa/getSemanticTree?=",
            type: 'post',
            data: encodedInput,
            contentType: "text/plain",
            success: function(data) {
                console.log(data);
            }
        });
    })

});
</script>

</body>
</html>
